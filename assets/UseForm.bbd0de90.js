var W=Object.defineProperty;var O=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var U=(e,a,o)=>a in e?W(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,b=(e,a)=>{for(var o in a||(a={}))X.call(a,o)&&U(e,o,a[o]);if(O)for(var o of O(a))Y.call(a,o)&&U(e,o,a[o]);return e};import{i as Z,a as x,_ as Q}from"./index.8e69baaf.js";import{B,R as ee,C as n,S as j,T as te,s as k,U as G,G as g,r as E,o as u,j as f,I as p,t as C,u as h,F as R,W as oe,J as P,K as D,L as F,X as ae,Y as re,Z as S,z as $,y as L,N as w,_ as N,$ as le,a0 as se,a1 as ne,a2 as ue,a3 as ce,a4 as ie,a5 as de,a6 as me,a7 as pe,a8 as fe,a9 as ge,aa as be,ab as ve,H as T,ac as _e,ad as ye,D as q,P as A}from"./vendor.91eeb77c.js";const he={}.VITE_GLOB_APP_TITLE;function Ee(e){throw new Error(`[${he} error]: ${e}`)}function ke(e){const a=B(null),o=B(!1);function i(s){ee(()=>{a.value=null,o.value=null}),!(n(o)&&Z()&&s===n(a))&&(a.value=s,o.value=!0,j(()=>e,()=>{e&&s.setProps(e)},{immediate:!0,deep:!0}))}async function t(){const s=n(a);return s||Ee("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),await te(),s}return{register:i,methods:{async setProps(s){(await t()).setProps(s)},async validate(s){const l=await t();console.log(l),l.validate(s)},async resetFields(){(await t()).resetFields()},async clearValidate(){(await t()).clearValidate()}}}}const Ve=k({props:{options:{type:Array,default:[]}},setup(e){const a=e,o=G(),i=g(()=>b(b({},a),o));return(t,r)=>{const s=E("ElOption"),l=E("ElSelect");return u(),f(l,D(F(n(i))),{default:p(()=>[a.options.length?(u(!0),C(R,{key:0},h(a.options,d=>(u(),f(s,{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128)):oe("",!0),P(t.$slots,"default")]),_:3},16)}}});var M=(e=>(e.Checkbox="Checkbox",e.CheckboxButton="CheckboxButton",e))(M||{}),z=(e=>(e.Radio="Radio",e.RadioButton="RadioButton",e))(z||{});const Pe=k({props:{modelValue:{type:Array,required:!0},options:{type:Array,default:[]},type:{type:String,default:"Checkbox"}},setup(e){const a=e,o=g(()=>{const t=a.options;return t.length?x(t[0])?t.map(r=>({label:r,value:r})):t:[]}),i=g(()=>a.type===M.CheckboxButton?ae:re);return(t,r)=>{const s=E("el-checkbox-group");return u(),f(s,w({modelValue:e.modelValue,"onUpdate:modelValue":r[0]||(r[0]=l=>N(modelValue)?modelValue.value=l:null)},t.$attrs),{default:p(()=>[(u(!0),C(R,null,h(n(o),l=>(u(),f(S(n(i)),{key:l.value,label:l.value},{default:p(()=>[$(L(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},16,["modelValue"])}}}),Ce=k({props:{modelValue:{type:String,required:!0},options:{type:Array,default:[]},type:{type:String,default:"Radio"}},setup(e){const a=e,o=g(()=>{const t=a.options;return t.length?x(t[0])?t.map(r=>({label:r,value:r})):t:[]}),i=g(()=>a.type===z.RadioButton?le:se);return(t,r)=>{const s=E("el-radio-group");return u(),f(s,w({modelValue:e.modelValue,"onUpdate:modelValue":r[0]||(r[0]=l=>N(modelValue)?modelValue.value=l:null)},t.$attrs),{default:p(()=>[(u(!0),C(R,null,h(n(o),l=>(u(),f(S(n(i)),{key:l.value,label:l.value},{default:p(()=>[$(L(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},16,["modelValue"])}}}),c=new Map;c.set("Input",ne);c.set("InputNumber",ue);c.set("Select",Ve);c.set("RadioGroup",Ce);c.set("CheckboxGroup",Pe);c.set("Cascader",ce);c.set("DatePicker",ie);c.set("TimePicker",de);c.set("TimeSelect",me);c.set("Switch",pe);c.set("Upload",fe);c.set("Slider",ge);c.set("Rate",be);c.set("Divider",ve);const Re=k({props:{schema:{type:Object,default:()=>({})},value:Object},emits:["update:value"],setup(e,{emit:a}){const o=e,{component:i,label:t}=o.schema,r=g(()=>!x(t)),s=g(()=>x(t)?{label:t}:{}),l=g({get(){return o.value},set(V){a("update:value",V)}});function d(){return o.schema.render?o.schema.render:c.get(i)}return(V,v)=>(u(),f(n(_e),D(F(n(s))),T({default:p(()=>[(u(),f(S(d()),w({modelValue:n(l),"onUpdate:modelValue":v[0]||(v[0]=I=>N(l)?l.value=I:null)},e.schema.componentProps),null,16,["modelValue"]))]),_:2},[n(r)?{name:"label",fn:p(()=>[(u(),f(S(n(t))))])}:void 0]),1040))}});const xe=k({emits:["register"],setup(e,{emit:a}){const o=e,i=G(),t=B({}),r=B(),s=g(()=>b(b(b({},i),o),t.value)),l=g(()=>{const{schemas:m}=n(t);return m});function d(m){t.value=b(b({},t.value),m)}function V(m){r.value&&r.value.validate(m)}function v(){r.value&&r.value.resetFields()}function I(){r.value&&r.value.clearValidate()}const H={setProps:d,validate:V,resetFields:v,clearValidate:I};return ye(()=>{a("register",H)}),(m,Se)=>{const J=E("el-form");return u(),f(J,w({ref_key:"formRef",ref:r},n(s)),T({default:p(()=>[P(m.$slots,"formHeader",{},void 0,!0),(u(!0),C(R,null,h(n(l),_=>(u(),f(Re,{key:_.field,value:t.value.model[_.field],"onUpdate:value":y=>t.value.model[_.field]=y,schema:_},T({_:2},[h(Object.keys(m.$slots),y=>({name:y,fn:p(K=>[P(m.$slots,y,D(F(K||{})),void 0,!0)])}))]),1032,["value","onUpdate:value","schema"]))),128)),P(m.$slots,"formFooter",{},void 0,!0)]),_:2},[h(Object.keys(m.$slots),_=>({name:_,fn:p(y=>[P(m.$slots,_,D(F(y)),void 0,!0)])}))]),1040)}}});var Be=Q(xe,[["__scopeId","data-v-76741883"]]);const De=$("submitForm"),Fe=$("resetForm"),Ae=k({setup(e){const a=[{field:"name",label:"\u59D3\u540D",component:"Input"},{field:"age",label:"\u5E74\u7EAA",component:"InputNumber"},{field:"city",label:"\u57CE\u5E02",component:"Select",componentProps:{options:[{label:"\u676D\u5DDE",value:1},{label:"\u4E0A\u6D77",value:2}]}},{field:"sex",label:"\u6027\u522B",component:"RadioGroup",componentProps:{options:[{label:"\u7537",value:1},{label:"\u5973",value:2}]}},{field:"like",label:"\u7231\u597D",component:"CheckboxGroup",componentProps:{options:[{label:"\u8DB3\u7403",value:1},{label:"\u7BEE\u7403",value:2},{label:"\u6E38\u6CF3",value:3}]}},{field:"date",label:"\u751F\u65E5",component:"DatePicker"}],o=q({name:"",age:void 0,city:null,sex:null,like:[],date:""});j(o,()=>{console.log("formData ======",o)});const i=q({name:[{required:!0,message:"Please input name",trigger:"blur"},{min:3,max:5,message:"Length should be 3 to 5",trigger:"blur"}],age:[{required:!0,message:"Please input age",trigger:"blur"}],date:[{type:"date",required:!0,message:"Please pick a date",trigger:"change"}],like:[{type:"array",required:!0,message:"Please select like",trigger:"blur"}],sex:[{type:"number",required:!0,message:"Please select sex",trigger:"blur"}],city:[{type:"number",required:!0,message:"Please input city",trigger:"blur"}]}),{register:t,methods:r}=ke({model:o,rules:i,schemas:a}),s=()=>{r.validate(d=>{if(d)console.log("submit!",d);else return console.log("error submit!",d),!1})},l=()=>{r.resetFields()};return(d,V)=>{const v=E("ElButton");return u(),C(R,null,[A(Be,{formData:n(o),onRegister:n(t)},null,8,["formData","onRegister"]),A(v,{onClick:s},{default:p(()=>[De]),_:1}),A(v,{onClick:l},{default:p(()=>[Fe]),_:1})],64)}}});export{Ae as default};
