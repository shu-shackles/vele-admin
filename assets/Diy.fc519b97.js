var M=Object.defineProperty;var B=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var A=(a,t,e)=>t in a?M(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,p=(a,t)=>{for(var e in t||(t={}))z.call(t,e)&&A(a,e,t[e]);if(B)for(var e of B(t))H.call(t,e)&&A(a,e,t[e]);return a};import{i as J,a as N,_ as K}from"./index.08001ed1.js";import{B as x,R as W,C as r,S as U,T as X,s as V,U as j,G as b,r as C,o as m,j as g,I as v,t as T,u as P,F as $,W as Y,J as y,K as D,L as R,X as Z,Y as Q,Z as ee,_ as te,$ as ae,a0 as oe,a1 as se,a2 as re,a3 as ne,a4 as le,a5 as ue,a6 as ce,a7 as ie,a8 as me,a9 as de,H as F,aa as q,ab as pe,ac as fe,P as I,ad as ge,N as ve,D as O,z as _e}from"./vendor.a8cc641c.js";const he={}.VITE_GLOB_APP_TITLE;function be(a){throw new Error(`[${he} error]: ${a}`)}function Ee(a){const t=x(null),e=x(!1);function d(o){W(()=>{t.value=null,e.value=null}),!(r(e)&&J()&&o===r(t))&&(t.value=o,e.value=!0,U(()=>a,()=>{a&&o.setProps(a)},{immediate:!0,deep:!0}))}async function l(){const o=r(t);return o||be("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),await X(),o}return{register:d,methods:{async setProps(o){(await l()).setProps(o)},async validate(o){const c=await l();console.log(c),c.validate(o)},async resetFields(){(await l()).resetFields()},async clearValidate(){(await l()).clearValidate()}}}}const ye=V({props:{options:{type:Array,default:[]}},setup(a){const t=a,e=j();console.log("select",t);const d=b(()=>p(p({},t),e));return(l,u)=>{const o=C("ElOption"),c=C("ElSelect");return m(),g(c,D(R(r(d))),{default:v(()=>[t.options.length?(m(!0),T($,{key:0},P(t.options,i=>(m(),g(o,{key:i.value,label:i.label,value:i.value},null,8,["label","value"]))),128)):Y("",!0),y(l.$slots,"default")]),_:3},16)}}}),n=new Map;n.set("Input",Z);n.set("InputNumber",Q);n.set("Select",ye);n.set("Radio",ee);n.set("RadioGroup",te);n.set("Checkbox",ae);n.set("CheckboxGroup",oe);n.set("Cascader",se);n.set("DatePicker",re);n.set("TimePicker",ne);n.set("TimeSelect",le);n.set("Switch",ue);n.set("Upload",ce);n.set("Slider",ie);n.set("Rate",me);n.set("Divider",de);var ke=V({props:{schema:{type:Object,default:()=>({})},value:Object},emits:["update:value"],setup(a,{emit:t}){const e=a,{component:d,field:l,label:u}=e.schema,o=b(()=>!N(u)),c=b(()=>N(u)?{label:u}:{}),i=b({get(){return e.value},set(_){t("update:value",_)}});function E(){if(e.schema.render)return e.schema.render;const _=n.get(d);return I(_,e.schema.componentProps,null)}return(_,k)=>(m(),g(r(fe),D(R(r(c))),F({default:v(()=>[(m(),g(q(E()),{modelValue:r(i),"onUpdate:modelValue":k[0]||(k[0]=w=>pe(i)?i.value=w:null)},null,8,["modelValue"]))]),_:2},[r(o)?{name:"label",fn:v(()=>[(m(),g(q(r(u))))])}:void 0]),1040))}});const Pe=V({emits:["register"],setup(a,{emit:t}){const e=a,d=j(),l=x({}),u=x(),o=b(()=>p(p(p({},d),e),r(l))),c=b(()=>{const{schemas:s}=r(l);return s});function i(s){l.value=p(p({},l.value),s)}function E(s){const S=r(u);S&&S.validate(s)}function _(){const s=r(u);s&&s.resetFields()}function k(){const s=r(u);s&&s.clearValidate()}const w={setProps:i,validate:E,resetFields:_,clearValidate:k};return ge(()=>{t("register",w)}),(s,S)=>{const G=C("el-form");return m(),g(G,ve({ref_key:"formRef",ref:u,"label-width":"120px"},r(o)),F({default:v(()=>[y(s.$slots,"formHeader",{},void 0,!0),(m(!0),T($,null,P(r(c),f=>(m(),g(ke,{key:f.field,value:l.value.model[f.field],"onUpdate:value":h=>l.value.model[f.field]=h,schema:f},F({_:2},[P(Object.keys(s.$slots),h=>({name:h,fn:v(L=>[y(s.$slots,h,D(R(L||{})),void 0,!0)])}))]),1032,["value","onUpdate:value","schema"]))),128)),y(s.$slots,"formFooter",{},void 0,!0)]),_:2},[P(Object.keys(s.$slots),f=>({name:f,fn:v(h=>[y(s.$slots,f,D(R(h)),void 0,!0)])}))]),1040)}}});var xe=K(Pe,[["__scopeId","data-v-3fd01720"]]);const Ce=_e("onClick"),we=V({setup(a){const t=[{field:"name",label:"\u59D3\u540D",component:"Input"},{field:"age",label:"\u5E74\u7EAA",component:"InputNumber"},{field:"city",label:"\u57CE\u5E02",component:"Select",componentProps:{options:[{label:"\u676D\u5DDE",value:1},{label:"\u4E0A\u6D77",value:2}]}},{field:"sex",label:"\u6027\u522B",component:"Radio",componentProps:{label:"xxx"}},{field:"like",label:"\u7231\u597D",component:"Checkbox",componentProps:{label:"xxx"}},{field:"date",label:"\u751F\u65E5",component:"DatePicker"}],e=O({name:"Tome",age:18,city:1,sex:"\u7537",like:[1],date:"2022/03/08"});U(e,()=>{console.log("formData ======",e)});const d=O({name:[{required:!0,message:"Please input Activity name",trigger:"blur"},{min:3,max:5,message:"Length should be 3 to 5",trigger:"blur"}],region:[{required:!0,message:"Please select Activity zone",trigger:"change"}],date1:[{type:"date",required:!0,message:"Please pick a date",trigger:"change"}],date2:[{type:"date",required:!0,message:"Please pick a time",trigger:"change"}],type:[{type:"array",required:!0,message:"Please select at least one activity type",trigger:"change"}],resource:[{required:!0,message:"Please select activity resource",trigger:"change"}],desc:[{required:!0,message:"Please input activity form",trigger:"blur"}]}),{register:l,methods:u}=Ee({model:e,rules:d,schemas:t}),o=()=>{console.log(e)};return(c,i)=>{const E=C("ElButton");return m(),T($,null,[I(xe,{formData:r(e),onRegister:r(l)},null,8,["formData","onRegister"]),I(E,{onClick:o},{default:v(()=>[Ce]),_:1})],64)}}});export{we as default};
